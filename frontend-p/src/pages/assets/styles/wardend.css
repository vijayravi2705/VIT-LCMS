/* ============================================================================
   WARDEN DIRECTORY â€” PREMIUM UI (GLASS + DARK MODE + MOTION-SAFE)
   ============================================================================ */

:root{
  --wdd-bg:            #eef3ff;
  --wdd-surface:       rgba(255,255,255,.88);
  --wdd-surface-2:     rgba(255,255,255,.65);
  --wdd-ink:           #0b1224;
  --wdd-muted:         #5b667c;
  --wdd-line:          #e6eaf3;

  --wdd-blue:          #2563eb;
  --wdd-blue-2:        #1d4ed8;
  --wdd-blue-soft:     #e6efff;
  --wdd-blue-glow:     rgba(37,99,235,.18);

  --wdd-red:           #dc2626;
  --wdd-red-2:         #ff5d5d;
  --wdd-green:         #16a34a;
  --wdd-orange:        #b45309;

  --wdd-radius:        18px;
  --wdd-r-sm:          12px;

  --wdd-ease:          cubic-bezier(.19,1,.22,1);
  --wdd-sh-1:          0 10px 26px rgba(15,23,42,.08), 0 4px 10px rgba(15,23,42,.06);
  --wdd-sh-2:          0 18px 46px rgba(15,23,42,.16), 0 6px 16px rgba(15,23,42,.08);
  --wdd-ring:          0 0 0 2px var(--wdd-blue-soft), 0 6px 16px var(--wdd-blue-glow);
}

/* Dark mode */
@media (prefers-color-scheme: dark){
  :root{
    --wdd-bg:        #0b1220;
    --wdd-surface:   rgba(14,18,30,.7);
    --wdd-surface-2: rgba(14,18,30,.5);
    --wdd-ink:       #f1f5ff;
    --wdd-muted:     #9aa3b2;
    --wdd-line:      #1f2a44;

    --wdd-blue-soft:#1a2a55;
    --wdd-blue-glow:rgba(64,124,255,.25);

    --wdd-orange:    #ffd089;
    --wdd-red:       #ff6c6c;
    --wdd-red-2:     #ff9a9a;
    --wdd-green:     #5ee3a1;

    --wdd-sh-1:      0 10px 26px rgba(0,0,0,.35), 0 6px 16px rgba(0,0,0,.25);
    --wdd-sh-2:      0 24px 54px rgba(0,0,0,.45), 0 10px 22px rgba(0,0,0,.35);
  }
}

/* Motion-safe */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important; }
}

/* Utilities */
.wdd-ellipsis{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.wdd-break{ overflow-wrap:anywhere; word-break:break-word; }

/* Page */
.wdd-page{
  background:
    radial-gradient(1000px 600px at 10% -10%, rgba(37,99,235,.10), transparent 60%),
    radial-gradient(800px 540px at 95% -20%, rgba(29,78,216,.10), transparent 60%),
    linear-gradient(135deg, #edf3ff 0%, #f7faff 100%);
  min-height:100vh;
  color:var(--wdd-ink);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  padding:24px clamp(18px, 3vw, 48px);
  display:flex;
  flex-direction:column;
  gap:24px;
}

@media (prefers-color-scheme: dark){
  .wdd-page{
    background:
      radial-gradient(1000px 600px at 10% -10%, rgba(64,124,255,.09), transparent 60%),
      radial-gradient(800px 540px at 95% -20%, rgba(153,71,255,.08), transparent 60%),
      linear-gradient(135deg, #0b1220, #0e1426 60%, #0b1220);
  }
}

/* Header */
.wdd-header{ display:flex; flex-wrap:wrap; gap:18px; justify-content:space-between; align-items:flex-start; }
.wdd-title{
  margin:0;
  font-weight:900;
  font-size:clamp(1.6rem, 2vw, 1.95rem);
  background:linear-gradient(90deg, var(--wdd-blue), var(--wdd-blue-2));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  letter-spacing:.2px;
}
.wdd-sub{ color:var(--wdd-muted); margin-top:6px; font-size:.95rem; max-width:62ch; }

/* Filters */
.wdd-actions{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; }
.wdd-input, .wdd-select{
  appearance:none; outline:none;
  border:1px solid var(--wdd-line);
  border-radius:12px;
  padding:10px 14px;
  background:var(--wdd-surface);
  backdrop-filter:blur(8px);
  color:var(--wdd-ink);
  min-width:160px;
  font-size:.96rem;
  transition:border-color .16s var(--wdd-ease), box-shadow .18s var(--wdd-ease), background-color .18s var(--wdd-ease);
}
.wdd-input::placeholder{ color: color-mix(in srgb, var(--wdd-muted) 65%, transparent); }
.wdd-input:focus, .wdd-select:focus{ border-color: var(--wdd-blue); box-shadow: var(--wdd-ring); }

/* Grid */
.wdd-grid{ display:grid; gap:18px; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); align-items:start; }

/* Card */
.wdd-card{
  border:1px solid color-mix(in srgb, var(--wdd-surface) 70%, #fff);
  border-radius: var(--wdd-radius);
  background: var(--wdd-surface);
  backdrop-filter: blur(14px) saturate(112%);
  -webkit-backdrop-filter: blur(14px) saturate(112%);
  padding:22px;
  display:flex; flex-direction:column; gap:18px;
  cursor:pointer; min-height:270px; justify-content:space-between;
  box-shadow: var(--wdd-sh-1);
  transition: transform .28s var(--wdd-ease), box-shadow .32s var(--wdd-ease), border-color .18s ease, background-color .18s ease;
  overflow:hidden;
}
.wdd-card:hover{ transform: translateY(-6px) scale(1.015); box-shadow: var(--wdd-sh-2); border-color: rgba(37,99,235,.28); }
.wdd-card:focus-visible{ outline: none; box-shadow: var(--wdd-sh-2), 0 0 0 3px rgba(37,99,235,.25) inset; }

/* Card head */
.wdd-card-head{ display:flex; gap:14px; align-items:center; }
.wdd-card-photo{
  width:56px; height:56px; border-radius:50%;
  background: color-mix(in srgb, var(--wdd-blue) 18%, #dbeafe);
  color: var(--wdd-blue);
  display:grid; place-items:center; font-weight:700; font-size:20px; overflow:hidden;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
}
.wdd-card-photo img{ width:100%; height:100%; object-fit:cover; }

.wdd-card-title h3{ margin:0; font-size:18px; font-weight:800; color:var(--wdd-ink); line-height:1.15; max-width:20ch; }
.wdd-card-meta{ margin-top:4px; color:var(--wdd-muted); font-size:12.5px; display:flex; gap:6px; flex-wrap:nowrap; max-width:22ch; }

/* Card info */
.wdd-card-info{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px; margin:0; }
.wdd-card-info dt{ font-size:11px; text-transform:uppercase; color:var(--wdd-muted); letter-spacing:.06em; }
.wdd-card-info dd{ margin:0; color:var(--wdd-ink); font-weight:700; font-size:14px; min-height:1.25em; }

/* Queue pills */
.wdd-card-queue{ display:flex; flex-wrap:wrap; column-gap:10px; row-gap:10px; padding-top:6px; }
.wdd-pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:7px 12px; border-radius:999px;
  background: var(--wdd-surface-2);
  color: var(--wdd-ink);
  font-size:12.5px; font-weight:800; letter-spacing:.1px;
  border:1px solid var(--wdd-line);
  box-shadow: 0 1px 0 rgba(255,255,255,.35) inset;
  transition: transform .18s var(--wdd-ease), box-shadow .18s var(--wdd-ease), background-color .18s var(--wdd-ease);
}
.wdd-pill b{ font-variation-settings: "wght" 850; }
.wdd-pill:hover{ transform: translateY(-1px); box-shadow: 0 8px 18px rgba(15,23,42,.08); }

.wdd-pill--pending{ background:#fff3d3; border-color:#f6d983; color:var(--wdd-orange); }
.wdd-pill--resolved{ background:#eafff3; border-color:#c4f5da; color:var(--wdd-green); }
.wdd-pill--emergency{
  background:#ffe8e8; border-color:#ffb4b4; color:var(--wdd-red);
  box-shadow: 0 0 8px rgba(255,96,96,.28);
}

/* Emergency pulse (subtle, motion-safe guarded by media above) */
@keyframes wdd-pulse{
  0%{ box-shadow: 0 0 0 0 rgba(255,96,96,.35); }
  70%{ box-shadow: 0 0 0 14px rgba(255,96,96,0); }
  100%{ box-shadow: 0 0 0 0 rgba(255,96,96,0); }
}
.wdd-pill--emergency{ animation: wdd-pulse 2.2s var(--wdd-ease) infinite; }

/* Pagination */
.wdd-pager{ display:flex; justify-content:flex-end; align-items:center; gap:12px; font-weight:700; color:var(--wdd-muted); }
.wdd-page-btn{
  height:38px; padding:0 16px; border-radius:12px;
  border:1px solid var(--wdd-line); background: var(--wdd-surface);
  cursor:pointer; transition: transform .14s ease, box-shadow .18s ease;
}
.wdd-page-btn:disabled{ opacity:.55; cursor:not-allowed; }
.wdd-page-btn:not(:disabled):hover{ transform:translateY(-1px); box-shadow: var(--wdd-sh-1); }

/* Empty states */
.wdd-empty{
  border:2px dashed var(--wdd-line);
  border-radius: var(--wdd-radius);
  padding:38px 14px; text-align:center; color:var(--wdd-muted); font-weight:800;
  background: var(--wdd-surface);
  backdrop-filter: blur(8px);
}
.wdd-empty--error{ color:var(--wdd-red); border-color: color-mix(in srgb, var(--wdd-red) 45%, transparent); background: color-mix(in srgb, #fff 65%, var(--wdd-red) 3%); }

/* Modal */
.wdd-modal{
  position:fixed; inset:0; z-index:90;
  background: radial-gradient(1200px 700px at 50% -10%, rgba(37,99,235,.18), transparent 60%), rgba(15,23,42,.55);
  display:grid; place-items:center; padding:22px;
  opacity:0; pointer-events:none; transition:opacity .25s var(--wdd-ease), backdrop-filter .25s var(--wdd-ease);
  backdrop-filter: blur(2px);
}
.wdd-modal.show{ opacity:1; pointer-events:auto; backdrop-filter: blur(6px); }

.wdd-panel{
  width:min(1080px,96vw); max-height:90vh;
  background: var(--wdd-surface);
  border:1px solid color-mix(in srgb, var(--wdd-surface) 70%, #fff);
  border-radius: 20px; display:flex; flex-direction:column; overflow:hidden; box-shadow: var(--wdd-sh-2);
}
.wdd-panel-head{
  padding:20px 24px; border-bottom:1px solid var(--wdd-line);
  display:flex; justify-content:space-between; align-items:center;
  background: linear-gradient(180deg, color-mix(in srgb, #fff 85%, var(--wdd-blue-soft) 15%), var(--wdd-surface));
}
.wdd-panel-head h2{ margin:0; font-size:22px; color:var(--wdd-ink); }
.wdd-panel-sub{ color:var(--wdd-muted); font-size:13px; margin-top:4px; max-width:60ch; }
.wdd-close{
  border:none; background: var(--wdd-surface-2); color:var(--wdd-ink);
  border-radius:12px; width:40px; height:40px; font-size:18px; cursor:pointer;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.35);
  transition: transform .16s var(--wdd-ease), box-shadow .18s var(--wdd-ease);
}
.wdd-close:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(15,23,42,.12); }
.wdd-panel-body{ padding:18px 24px 24px; overflow-y:auto; display:flex; flex-direction:column; gap:18px; }

.wdd-sec{
  background: color-mix(in srgb, var(--wdd-surface) 85%, #fff);
  border:1px solid var(--wdd-line);
  border-radius:16px; padding:16px; display:flex; flex-direction:column; gap:14px;
}
.wdd-sec-title{ margin:0; font-size:15px; font-weight:900; color:var(--wdd-ink); letter-spacing:.15px; }
.wdd-columns{ display:grid; gap:12px; grid-template-columns: repeat(auto-fill, minmax(180px,1fr)); }
.wdd-ro{
  border-radius:12px; border:1px dashed color-mix(in srgb, var(--wdd-blue) 18%, #dbeafe);
  background:#fff; padding:10px 12px; font-size:14px; color:var(--wdd-ink);
  min-height:38px; display:flex; align-items:center;
}
@media (prefers-color-scheme: dark){
  .wdd-ro{ background: rgba(255,255,255,.06); }
}

/* Table */
.wdd-table{ width:100%; border-collapse:collapse; font-size:13px; }
.wdd-table th, .wdd-table td{ padding:10px 12px; border-bottom:1px solid var(--wdd-line); text-align:left; }
.wdd-table th{
  background: color-mix(in srgb, var(--wdd-surface) 80%, #fff);
  text-transform:uppercase; font-size:11px; letter-spacing:.06em; color:var(--wdd-muted);
}
.wdd-table tbody tr:hover{ background: color-mix(in srgb, var(--wdd-surface) 70%, #f1f5f9); }

/* Responsive */
@media (max-width: 920px){
  .wdd-grid{ grid-template-columns: repeat(auto-fill, minmax(260px,1fr)); }
}
@media (max-width: 768px){
  .wdd-actions{ flex-direction:column; align-items:stretch; }
  .wdd-grid{ grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); }
}
@media (max-width: 600px){
  .wdd-card{ padding:18px; }
  .wdd-card-head{ flex-direction:column; align-items:flex-start; }
  .wdd-card-photo{ width:48px; height:48px; font-size:18px; }
}
