:root{
  --bg:#f6f9ff;
  --surface:#ffffff;
  --ink:#0f172a;
  --muted:#667085;
  --line:#e2e8f6;
  --brand:#2563eb;
  --brand2:#1e40af;
  --ok:#10b981;
  --warn:#f59e0b;
  --danger:#ef4444;
  --r:16px;
  --dur:.25s;
  --ease:cubic-bezier(.22,.8,.24,1);
  --sh1:0 6px 16px rgba(15,23,42,.08);
  --sh2:0 16px 40px rgba(15,23,42,.12);
}

/* Page */
.wdh-page{
  padding:28px;
  background:
    radial-gradient(1200px 460px at 10% -10%, #eaf1ff 0%, transparent 55%),
    radial-gradient(1000px 400px at 100% 0%, #edf2ff 0%, transparent 55%),
    linear-gradient(180deg,#f8faff 0%, #f1f5ff 100%);
}

/* Header */
.wdh-header{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:18px}
.wdh-title{margin:0;color:#152e9c;font-size:28px;font-weight:900;letter-spacing:.2px}
.wdh-sub{margin:6px 0 0;color:var(--muted)}

.wdh-actions{display:flex;gap:10px;align-items:center}
.wdh-search{
  height:44px;width:340px;border-radius:999px;border:6px solid var(--line);
  background:linear-gradient(180deg,#ffffff 0%,#f9fbff 100%);padding:0 16px;font-size:14px;color:var(--ink);
  box-shadow:inset 0 1px 2px rgba(0,0,0,.04),0 2px 6px rgba(15,23,42,.04);
  transition:border-color .25s var(--ease),box-shadow .25s var(--ease),background .25s var(--ease),transform .2s var(--ease);
}
.wdh-search:hover{border-color:#d2dcff;background:linear-gradient(180deg,#ffffff 0%,#f2f6ff 100%);transform:translateY(-1px)}
.wdh-search:focus{background:#fff;transform:translateY(-1px)}

.wdh-select{
  height:44px;min-width:120px;border-radius:14px;border:1px solid var(--line);
  background:linear-gradient(180deg,#ffffff 0%,#f9fbff 100%);
  padding:0 12px;font-size:14px;font-weight:600;color:#1f2937;cursor:pointer;box-shadow:0 1px 3px rgba(15,23,42,.04);
  transition:border-color .25s var(--ease),background .25s var(--ease),box-shadow .25s var(--ease),transform .2s var(--ease);
  appearance:none;
}
.wdh-select:hover{border-color:#d2dcff;transform:translateY(-1px)}
.wdh-select:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 4px rgba(37,99,235,.15),0 6px 18px rgba(37,99,235,.08);transform:translateY(-1px)}

/* Grid of cards */
.wdh-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
.wdh-card{
  grid-column:span 12;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:14px;
  background:#fff;border:1px solid var(--line);border-radius:18px;padding:14px 16px;box-shadow:var(--sh1);
  transition:transform var(--dur) var(--ease),box-shadow var(--dur) var(--ease),border-color var(--dur) var(--ease);cursor:pointer;
}
.wdh-card:hover{transform:translateY(-2px);box-shadow:var(--sh2);border-color:#d9e5ff}
.wdh-rail{width:6px;height:100%;border-radius:10px;background:linear-gradient(180deg,#cfe0ff,#dfe8ff)}
/* rail by priority */
.wdh-card.pr-emergency .wdh-rail{background:linear-gradient(180deg,#fecaca,#fee2e2)}
.wdh-card.pr-high .wdh-rail{background:linear-gradient(180deg,#ffe8bf,#fff1d6)}
.wdh-card.pr-medium .wdh-rail{background:linear-gradient(180deg,#cfeeff,#e0f2fe)}
.wdh-card.pr-low .wdh-rail{background:linear-gradient(180deg,#dff5b6,#eefcd3)}

.wdh-card-title{margin:0;color:#0f1f58;font-size:16.5px;font-weight:900}
.wdh-id{font-size:12.5px;color:#7b8794;margin:2px 0}
.wdh-meta{font-size:12.5px;color:#7b8794;display:flex;gap:8px;align-items:center}

.wdh-main{min-width:0}
.wdh-tags{display:flex;align-items:center;gap:8px}
.wdh-chip{
  display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);
  font-size:12.5px;font-weight:800;background:#f9fafb;color:#364152
}
.wdh-chip.tone-emergency{background:#fee2e2;color:#7f1d1d;border-color:#fecaca}
.wdh-chip.tone-high{background:#fff7ed;color:#92400e;border-color:#fde6b5}
.wdh-chip.tone-medium{background:#e0f2fe;color:#075985;border-color:#bae6fd}
.wdh-chip.tone-low{background:#ecfccb;color:#3f6212;border-color:#d9f99d}
.wdh-chip.tone-status{background:#eef2ff;color:#19328b;border-color:#d9e3ff}

.wdh-empty{grid-column:1/-1;margin-top:8px;color:#75809c}

/* Modal */
.wdh-modal{
  position:fixed;inset:0;z-index:60;display:flex;align-items:center;justify-content:center;
  background:rgba(10,16,38,.45);backdrop-filter:blur(6px);opacity:0;pointer-events:none;transition:opacity .25s var(--ease);padding:18px;
}
.wdh-modal.show{opacity:1;pointer-events:auto}
.wdh-panel{
  width:min(1080px,96vw);max-height:90vh;overflow:hidden;border-radius:20px;background:#fff;border:1px solid #e6ecf6;box-shadow:0 28px 70px rgba(15,23,42,.18);
  transform:translateY(10px) scale(.985);opacity:0;transition:transform .28s var(--ease),opacity .28s var(--ease);
}
.wdh-modal.show .wdh-panel{transform:translateY(0) scale(1);opacity:1}

/* Panel head */
.wdh-head{
  display:flex;align-items:center;justify-content:space-between;padding:16px 18px;background:linear-gradient(180deg,#ffffff 0%,#f7f9ff 100%);
  border-bottom:1px solid var(--line);
}
.wdh-titleblock{display:flex;flex-direction:column;gap:4px;min-width:0}
.wdh-titleblock h2{margin:0;font-size:22px;line-height:1.15;font-weight:900;color:#102c90}
.wdh-subid{font-size:12.5px;color:#7381a8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Close button */
.wdh-xbtn{
  height:38px;width:38px;border-radius:12px;display:grid;place-items:center;border:1px solid #e2e8f0;background:#fff;color:#475569;
  cursor:pointer;transition:transform .15s ease,background .2s ease,box-shadow .2s ease,color .2s ease;box-shadow:0 6px 14px rgba(2,8,23,.06);
}
.wdh-xbtn:hover{background:#fee2e2;color:#7f1d1d;transform:translateY(-2px);box-shadow:0 10px 22px rgba(2,8,23,.12)}
.wdh-xbtn:active{transform:translateY(0) scale(.98)}

/* Tabs */
.wdh-tabs{display:flex;gap:8px;padding:10px 12px;border-bottom:1px solid var(--line);background:#fff}
.wdh-tab{
  position:relative;padding:8px 12px;border-radius:999px;border:1px solid #e6ecf6;background:#fff;font-weight:800;color:#495569;cursor:pointer;
  transition:transform .18s var(--ease),box-shadow .18s var(--ease),background .18s,border-color .18s;
}
.wdh-tab:hover{transform:translateY(-1px);box-shadow:var(--sh1);background:#f2f6ff}
.wdh-tab.active{color:#0b2f9a;background:linear-gradient(180deg,#ffffff,#eef4ff);box-shadow:0 10px 22px rgba(37,99,235,.18);border-color:#d9e3ff}
.wdh-underline{position:absolute;left:10px;right:10px;bottom:-6px;height:3px;border-radius:99px;background:linear-gradient(90deg,#60a5fa,#2563eb,#60a5fa);box-shadow:0 6px 14px rgba(37,99,235,.35)}

/* Body */
.wdh-body{padding:16px 18px;overflow:auto;max-height:calc(90vh - 140px)}
.wdh-sec{background:#fbfcff;border:1px solid #edf1fb;border-radius:14px;padding:14px}
.wdh-sec + .wdh-sec{margin-top:12px}
.wdh-sec-title{margin:0 0 8px;font-size:14px;color:#1f2a56}

/* Read-only grid */
.wdh-grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 14px;margin-bottom:8px}
.wdh-grid2 label{display:block;font-size:12px;color:#64748b;margin-bottom:6px}
.wdh-ro{background:#fff;border:1px dashed #e6ecf6;border-radius:10px;padding:8px 10px;color:#2b3553;box-shadow:inset 0 1px 0 rgba(2,8,23,.02)}
.wdh-roarea{background:#fff;border:1px dashed #e6ecf6;border-radius:10px;padding:10px 12px;color:#2b3553;min-height:46px;white-space:pre-wrap;box-shadow:inset 0 1px 0 rgba(2,8,23,.02)}
.span-2{grid-column:span 2}
.wdh-note{margin-top:8px;color:#53608f;font-size:13px}

/* People */
.wdh-people{list-style:none;padding:0;margin:0;display:grid;gap:10px}
.wdh-person{background:#fff;border:1px solid #eef2fb;border-radius:12px;padding:10px}
.wdh-person-line{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.wdh-person-note{margin-top:6px;font-size:13px;color:#53608f}
.wdh-tag{display:inline-flex;align-items:center;height:22px;padding:0 8px;border-radius:999px;border:1px solid #e6ecf6;background:#eef2ff;color:#2a3b8f;font-size:11.5px;font-weight:700}

/* Files & tags */
.wdh-chips{display:flex;flex-wrap:wrap;gap:8px}
.wdh-chip-pill{display:inline-flex;align-items:center;gap:6px;background:#f3f6ff;border:1px solid #e3e9ff;color:#233066;border-radius:999px;padding:6px 10px;font-weight:800;font-size:12.5px}
.wdh-files{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.wdh-file{display:inline-flex;align-items:center;height:28px;padding:0 10px;border-radius:999px;border:1px solid #ffe2be;background:#fff9f1;color:#7a4b17;font-size:12.5px;font-weight:700}

/* Timeline (logs) */
.wdh-timeline{list-style:none;margin:0;padding:0;position:relative}
.wdh-tl-item{display:flex;gap:12px;position:relative;padding-left:6px}
.wdh-tl-item + .wdh-tl-item{margin-top:14px}
.wdh-tl-item::before{content:"";position:absolute;left:7px;top:0;bottom:-6px;width:2px;background:#e9eef9}
.wdh-tl-dot{width:12px;height:12px;border-radius:50%;background:#c7d3ff;border:2px solid #fff;box-shadow:0 0 0 2px #e9eef9;position:relative;top:6px}
.wdh-tl-card{background:#f9fbff;border:1px solid #e9eef9;border-radius:10px;padding:8px 10px;flex:1}
.wdh-tl-top{display:flex;justify-content:space-between;align-items:center}
.wdh-tl-action{font-weight:800;color:#243163}
.wdh-tl-time{color:#7381a8;font-size:12px}
.wdh-tl-note{margin-top:6px;color:#485887}
.wdh-tl-meta{margin-top:6px;font-size:12px;color:#8793b5}

/* color accents per action */
.wdh-tl-item.Resolved .wdh-tl-dot{background:#78d79a}
.wdh-tl-item.Rejected .wdh-tl-dot{background:#ff8080}
.wdh-tl-item.Escalated .wdh-tl-dot{background:#ffc266}

/* Scrollbar only inside body */
.wdh-body::-webkit-scrollbar{width:10px}
.wdh-body::-webkit-scrollbar-thumb{background:#dbe5ff;border-radius:10px;border:2px solid #f2f6ff}
.wdh-body::-webkit-scrollbar-track{background:transparent}

/* Keep last log item from hiding under the modal edge */
.wdh-body{padding-bottom:32px}
.wdh-timeline{padding-bottom:12px}

/* Responsive */
@media (max-width:900px){
  .wdh-grid{grid-template-columns:1fr}
  .wdh-card{grid-template-columns:auto 1fr}
  .wdh-tags{grid-column:1 / -1}
  .wdh-grid2{grid-template-columns:1fr}
}
